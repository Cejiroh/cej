<div id="main" class="stick">

    <div id="converter-wrapper" class="w-full min-h-screen flex items-center justify-center p-4 bg-[#f0f9ff]">
        
        <div class="glass-panel w-full max-w-5xl rounded-3xl shadow-2xl overflow-hidden relative">
            
            <div class="water-gradient p-8 text-white text-center relative overflow-hidden">
                <div class="absolute top-2 left-4 w-4 h-4 rounded-full bg-white opacity-20"></div>
                <div class="absolute bottom-4 right-8 w-8 h-8 rounded-full bg-white opacity-10"></div>
                <h1 class="text-3xl font-bold mb-1 m-0 p-0 text-white" style="border:none;">Hâ‚‚O Converter</h1>
                <p class="text-blue-100 text-base m-0">Gallons & Jugs to Liters</p>
            </div>

            <div class="p-8 grid grid-cols-1 md:grid-cols-2 gap-12 items-start">
                
                <div class="space-y-8">
                    <div>
                        <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 border-none">1. Select Container</h3>
                        <div class="bg-slate-100 p-2 rounded-2xl flex relative">
                            <button onclick="setMode('standard')" id="btn-standard" class="flex-1 py-4 px-6 rounded-xl text-base font-bold transition-all duration-300 shadow-sm bg-white text-blue-600 border-0 cursor-pointer flex items-center justify-center gap-2">
                                <span>ðŸ’§</span> Standard Gallon
                            </button>
                            <button onclick="setMode('jug')" id="btn-jug" class="flex-1 py-4 px-6 rounded-xl text-base font-bold text-slate-500 hover:text-slate-700 transition-all duration-300 border-0 cursor-pointer flex items-center justify-center gap-2">
                                <span>ðŸš°</span> Blue Jug
                            </button>
                        </div>
                    </div>

                    <div class="relative group">
                         <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 border-none">2. Enter Amount</h3>
                        <label id="input-label" class="sr-only">Enter Value</label> <div class="flex items-center bg-white border-2 border-slate-200 rounded-2xl px-6 py-6 focus-within:border-blue-400 focus-within:ring-4 focus-within:ring-blue-100 transition-all shadow-sm hover:shadow-md">
                            <div id="input-icon" class="text-blue-500 mr-4 transform scale-125">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /></svg>
                            </div>
                            <input type="number" id="input-val" value="1" min="0" step="any" oninput="calculate()" class="w-full bg-transparent outline-none text-4xl font-bold text-slate-700 placeholder-slate-300 border-none h-auto p-0" placeholder="0">
                        </div>
                    </div>
                </div>

                <div class="space-y-6 h-full flex flex-col justify-center">
                    
                    <div class="bg-gradient-to-br from-blue-50 to-white border border-blue-100 rounded-3xl p-10 text-center animate-pop shadow-lg" id="result-card">
                        <p class="text-slate-500 text-sm font-bold uppercase tracking-widest mb-4 m-0 border-none">Total Volume</p>
                        <div class="flex flex-col md:flex-row justify-center items-center md:items-baseline gap-3">
                            <span id="result-value" class="text-6xl md:text-7xl font-black text-blue-600 tracking-tight">3.79</span>
                            <span class="text-2xl font-bold text-blue-400">Liters</span>
                        </div>
                    </div>

                    <div class="bg-slate-50 rounded-2xl p-6 border border-slate-100">
                        <div class="flex justify-between items-center text-sm text-slate-500 mb-2">
                             <span>Formula Applied:</span>
                             <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs font-bold">Standard</span>
                        </div>
                        
                        <div class="font-mono text-slate-600 text-sm space-y-1">
                             <div class="flex justify-between">
                                <span>Input:</span>
                                <span id="math-input" class="font-bold">1</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Multiplier:</span>
                                <span id="math-unit">3.785</span>
                            </div>
                             <div class="border-t border-slate-200 my-2"></div>
                            <div class="flex justify-between text-blue-600 font-bold">
                                <span>Result:</span>
                                <span id="math-formula">1 Ã— 3.785</span>
                            </div>
                        </div>
                        
                        <p id="context-note" class="text-xs text-slate-400 mt-4 italic text-center m-0 border-none">
                            *Based on US Liquid Gallon (approx 3.78541 Liters)
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </div> 

    <script>
        const US_GALLON_TO_LITER = 3.785411784;
        const BLUE_JUG_GALLONS = 5;
        const BLUE_JUG_TO_LITER = US_GALLON_TO_LITER * BLUE_JUG_GALLONS; 

        let currentMode = 'standard';
        const elInput = document.getElementById('input-val');
        const elResult = document.getElementById('result-value');
        const elLabel = document.getElementById('input-label');
        const elBtnStandard = document.getElementById('btn-standard');
        const elBtnJug = document.getElementById('btn-jug');
        const elIcon = document.getElementById('input-icon');
        const elMathInput = document.getElementById('math-input');
        const elMathUnit = document.getElementById('math-unit');
        const elMathFormula = document.getElementById('math-formula');
        const elContextNote = document.getElementById('context-note');

        const iconDrop = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /></svg>`;
        const iconJug = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>`;

        function setMode(mode) {
            currentMode = mode;
            // Updated Classes for the larger buttons
            const activeClass = "flex-1 py-4 px-6 rounded-xl text-base font-bold transition-all duration-300 shadow-sm bg-white text-blue-600 border-0 cursor-pointer flex items-center justify-center gap-2 ring-2 ring-blue-100";
            const inactiveClass = "flex-1 py-4 px-6 rounded-xl text-base font-bold text-slate-500 hover:text-slate-700 transition-all duration-300 border-0 cursor-pointer flex items-center justify-center gap-2 bg-transparent";

            if (mode === 'standard') {
                elBtnStandard.className = activeClass;
                elBtnJug.className = inactiveClass;
                elLabel.innerText = "Enter Gallons (US)";
                elIcon.innerHTML = iconDrop;
                elContextNote.innerText = "*Based on US Liquid Gallon (approx 3.785 L)";
            } else {
                elBtnStandard.className = inactiveClass;
                elBtnJug.className = activeClass;
                elLabel.innerText = "Enter Number of Jugs";
                elIcon.innerHTML = iconJug;
                elContextNote.innerText = "*Based on standard 5-Gallon round water container";
            }
            calculate();
        }

        function calculate() {
            let inputVal = parseFloat(elInput.value);
            if (isNaN(inputVal) || inputVal < 0) inputVal = 0;
            let resultLiters = 0;
            let formulaString = "";
            let unitString = "";

            if (currentMode === 'standard') {
                resultLiters = inputVal * US_GALLON_TO_LITER;
                unitString = `${US_GALLON_TO_LITER.toFixed(3)}`;
                formulaString = `${inputVal} Ã— ${US_GALLON_TO_LITER.toFixed(3)}`;
            } else {
                resultLiters = inputVal * BLUE_JUG_TO_LITER;
                unitString = `${BLUE_JUG_TO_LITER.toFixed(2)}`;
                formulaString = `${inputVal} Jugs Ã— ${BLUE_JUG_TO_LITER.toFixed(2)}`;
            }

            elResult.innerText = parseFloat(resultLiters.toFixed(2)).toLocaleString('en-US'); // Reduced decimals for cleaner look
            elMathInput.innerText = inputVal;
            elMathUnit.innerText = unitString;
            elMathFormula.innerText = parseFloat(resultLiters.toFixed(2)).toLocaleString('en-US');

            const card = document.getElementById('result-card');
            card.classList.remove('animate-pop');
            void card.offsetWidth; 
            card.classList.add('animate-pop');
        }
        calculate();
    </script>
</div>
